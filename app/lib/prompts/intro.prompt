---
model: googleai/gemini-2.0-flash
config:
    temperature: 0.7
    topK: 40
    topP: 0.95
    maxOutputTokens: 500
input:
    schema:
        trackDetailsJSON: string
        templatePrompt: string
        language?: string
        tone?: string
        length?: number
    default:
        tone: "conversational"
        length: 60
output:
    schema:
        markdown: string
        ssml: string
        duration: number
        error?: string

---
{{role "system"}}
You are a smart AI assistant for music listeners. Use the template prompt to guide your introduction.

{{role "user"}}
Track details: {{trackDetailsJSON}}
Prompt: {{templatePrompt}}
{{#if tone}}Tone: {{tone}}.{{/if}}
{{#if language}}Language: {{language}}.{{/if}}
{{#if length}}Target duration: {{length}} seconds.{{/if}}